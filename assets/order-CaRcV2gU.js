import{i as G,l as J,k as W,m as F,s as V,n as U,o as K,r as j,p as Z,j as e,q as Q,v as X,w as Y,u as N,S as l,B,T as x,I as z,a as ee,b as te,t as se,d as re}from"./main.js";import{u as ie}from"./use-offer-timer-nZhfvcoO.js";function oe(t){return G("MuiCircularProgress",t)}J("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const C=44,L=W`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,O=W`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`,ne=typeof L!="string"?F`
        animation: ${L} 1.4s linear infinite;
      `:null,ae=typeof O!="string"?F`
        animation: ${O} 1.4s ease-in-out infinite;
      `:null,ce=t=>{const{classes:r,variant:o,color:m,disableShrink:h}=t,n={root:["root",o,`color${U(m)}`],svg:["svg"],circle:["circle",`circle${U(o)}`,h&&"circleDisableShrink"]};return X(n,oe,r)},le=V("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.root,r[o.variant],r[`color${U(o.color)}`]]}})(K(({theme:t})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:ne||{animation:`${L} 1.4s linear infinite`}},...Object.entries(t.palette).filter(Y()).map(([r])=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}}))]}))),de=V("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,r)=>r.svg})({display:"block"}),xe=V("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,r)=>{const{ownerState:o}=t;return[r.circle,r[`circle${U(o.variant)}`],o.disableShrink&&r.circleDisableShrink]}})(K(({theme:t})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:r})=>r.variant==="indeterminate"&&!r.disableShrink,style:ae||{animation:`${O} 1.4s ease-in-out infinite`}}]}))),pe=j.forwardRef(function(r,o){const m=Z({props:r,name:"MuiCircularProgress"}),{className:h,color:n="primary",disableShrink:a=!1,size:P=40,style:S,thickness:u=3.6,value:f=0,variant:p="indeterminate",...i}=m,k={...m,color:n,disableShrink:a,size:P,thickness:u,value:f,variant:p},b=ce(k),v={},I={},A={};if(p==="determinate"){const D=2*Math.PI*((C-u)/2);v.strokeDasharray=D.toFixed(3),A["aria-valuenow"]=Math.round(f),v.strokeDashoffset=`${((100-f)/100*D).toFixed(3)}px`,I.transform="rotate(-90deg)"}return e.jsx(le,{className:Q(b.root,h),style:{width:P,height:P,...I,...S},ownerState:k,ref:o,role:"progressbar",...A,...i,children:e.jsx(de,{className:b.svg,ownerState:k,viewBox:`${C/2} ${C/2} ${C} ${C}`,children:e.jsx(xe,{className:b.circle,style:v,ownerState:k,cx:C,cy:C,r:(C-u)/2,fill:"none",strokeWidth:u})})})}),he="/cdn/shop/t/6/assets/chef-preview.png",me="/cdn/shop/t/6/assets/fillet-preview.png",ue="/cdn/shop/t/6/assets/order.png",fe="/cdn/shop/t/6/assets/santoku-preview.png",ge="/cdn/shop/t/6/assets/universal-preview.png",ve="/cdn/shop/t/6/assets/utility-preview.png",ye="/cdn/shop/t/6/assets/chef.jpg",we="/cdn/shop/t/6/assets/fillet.jpg",je="/cdn/shop/t/6/assets/santoku.jpg",Pe="/cdn/shop/t/6/assets/universal.jpg",ke="/cdn/shop/t/6/assets/utility.jpg",Ce=({targetDate:t})=>{const{t:r}=N(),[o,m]=j.useState({days:0,hours:0,minutes:0,seconds:0});j.useEffect(()=>{const S=setInterval(()=>{const u=new Date().getTime(),p=t.getTime()-u;if(p>0){const i=Math.floor(p/864e5),k=Math.floor(p/(1e3*60*60)%24),b=Math.floor(p/(1e3*60)%60),v=Math.floor(p/1e3%60);m({days:i,hours:k,minutes:b,seconds:v})}else m({days:0,hours:0,minutes:0,seconds:0})},1e3);return()=>clearInterval(S)},[t]);const h={position:"relative",alignItems:"center",justifyContent:"center",backgroundColor:"#EAEAEA",zIndex:1,aspectRatio:1,flex:1,borderRadius:{xs:"10.91px",sm:"11.66px",md:"18.38px",lg:"18.38px"},width:{xs:"81.82px",sm:"100%"},maxWidth:{xs:"81.82px",sm:"unset"}},n={fontWeight:700,marginBottom:{xs:"-6px",sm:"-8px",md:"-14px",lg:"-14px"},fontSize:{xs:"25.45px",sm:"27.21px",md:"42.88px",lg:"42.88px"},lineHeight:{xs:"28px",sm:"29.93px",md:"47.17px",lg:"47.17px"}},a={fontWeight:700,fontSize:{xs:"16.36px",sm:"17.49px",md:"27.57px",lg:"27.57px"},lineHeight:{xs:"24.55px",sm:"26.23px",md:"41.35px",lg:"41.35px"}};return e.jsxs(l,{sx:{color:"#0B0B0B",width:"100%",position:"relative",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:{xs:"13.99px",sm:"14.95px",md:"23.56px",lg:"23.56px"}},children:[e.jsx(B,{sx:{position:"absolute",width:"90%",height:"90%",opacity:.7,backgroundColor:"#15975F85",filter:{xs:"blur(140px)",sm:"blur(140px)",md:"blur(140px)",lg:"blur(120px)"},zIndex:0}}),e.jsxs(l,{sx:h,children:[e.jsx(x,{sx:n,children:String(o.days).padStart(2,"0")}),e.jsx(x,{sx:a,children:r("common.days")})]}),e.jsxs(l,{sx:h,children:[e.jsx(x,{sx:n,children:String(o.hours).padStart(2,"0")}),e.jsx(x,{sx:a,children:r("common.hours")})]}),e.jsxs(l,{sx:h,children:[e.jsx(x,{sx:n,children:String(o.minutes).padStart(2,"0")}),e.jsx(x,{sx:a,children:r("common.minutes")})]}),e.jsxs(l,{sx:h,children:[e.jsx(x,{sx:n,children:String(o.seconds).padStart(2,"0")}),e.jsx(x,{sx:a,children:r("common.seconds")})]})]})};function Se(){return e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{y:"5",width:"14",height:"4",fill:"#EAEAEA"}),e.jsx("rect",{x:"9",width:"14",height:"4",transform:"rotate(90 9 0)",fill:"#EAEAEA"})]})}function be(){return e.jsx("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M9.672 14.828L12.501 12M12.501 12L15.329 9.172M12.501 12L9.672 9.172M12.501 12L15.329 14.828M12.5 22C18.023 22 22.5 17.523 22.5 12C22.5 6.477 18.023 2 12.5 2C6.977 2 2.5 6.477 2.5 12C2.5 17.523 6.977 22 12.5 22Z",stroke:"#EAEAEA",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}const Ie=({productId:t,title:r,picUrl:o,previewPicUrl:m,actualPrice:h,oldPrice:n,isAdded:a,onAddProduct:P,onRemoveProduct:S,isDisabled:u})=>{const{t:f}=N(),p=()=>{if(!u){if(a){S(t);return}P(t)}},i={xs:"70px",sm:"70px",md:"97px",lg:"97px"};return e.jsxs(l,{sx:{width:"100%",flex:1,overflow:"hidden"},children:[e.jsx(B,{sx:{width:"100%",transition:"0.2s ease transform",overflow:"hidden",zIndex:0,height:a?{xs:"174px",sm:"174px",md:"264.41px",lg:"264.41px"}:0,transform:a?"translate3d(0, 0, 0)":{xs:"translate3d(0, -174px, 0)",sm:"translate3d(0, -174px, 0)",md:"translate3d(0, -264.41px, 0)",lg:"translate3d(0, -264.41px, 0)"}},children:e.jsx(z,{src:o,sx:{width:"100%",height:"100%"}})}),e.jsxs(l,{sx:{width:"100%",flex:1,flexDirection:"row",height:i,zIndex:1},children:[e.jsx(z,{src:m,sx:{transition:"0.2s ease transform",overflow:"hidden",width:a?0:i,transform:a?{xs:`translate3d(-${i.xs}, 0, 0)`,sm:`translate3d(-${i.sm}, 0, 0)`,md:`translate3d(-${i.md}, 0, 0)`,lg:`translate3d(-${i.lg}, 0, 0)`}:"translate3d(0, 0, 0)",aspectRatio:1,flexShrink:0}}),e.jsx(l,{sx:{justifyContent:"center",height:i,width:"100%",backgroundColor:"#EAEAEA"},children:e.jsxs(l,{sx:{alignItems:"flex-start",color:"black",gap:{xs:"2px",sm:"4px"},padding:{xs:"0 8px",sm:"0 16px",md:"0 20px",lg:"0 20px"}},children:[e.jsx(x,{sx:{fontWeight:700,fontSize:{xs:"16px",sm:"16px",md:"24px",lg:"24px"}},children:r}),e.jsxs(x,{variant:"body2",sx:{color:"#615E5E",b:{color:"#0B0B0B"},fontSize:{xs:"14px",sm:"14px",md:"18px",lg:"18px"},lineHeight:{xs:"21px",sm:"21px",md:"27px",lg:"27px"}},children:[e.jsx("b",{children:f("order.price",{price:h})}),e.jsx("span",{style:{marginLeft:"10px",textDecoration:"line-through"},children:f("order.price",{price:n})})]})]})}),e.jsx(l,{onClick:p,sx:{cursor:"pointer",flexShrink:0,alignItems:"center",justifyContent:"center",transition:"0.2s ease all",backgroundColor:a?"#0B0B0B":"#15975F",height:i,width:{xs:"105px",sm:"105px",md:"145px",lg:"145px"}},children:a?e.jsx(be,{}):e.jsx(Se,{})})]}),e.jsx(l,{sx:{alignItem:"center",justifyContent:"center",width:"100%",transition:"0.2s ease transform",overflow:"hidden",height:a?i:0,zIndex:0,transform:a?"translate3d(0, 0, 0)":{xs:`translate3d(0, -${i.xs}, 0)`,sm:`translate3d(0, -${i.sm}, 0)`,md:`translate3d(0, -${i.md}, 0)`,lg:`translate3d(0, -${i.lg}, 0)`},backgroundColor:"#15975F"},children:e.jsx(x,{variant:"body1",sx:{fontWeight:700,fontSize:{xs:"16px",sm:"16px",md:"24px",lg:"24px"}},children:f("order.added")})})]})},Ae="site-products-collection",w="50156951109954",De=()=>{const{t}=N(),r=ee("down","sm"),{style:o,ref:m}=te(),{targetDate:h}=ie(),[n,a]=j.useState([]),[P,S]=j.useState([]),[u,f]=j.useState(0),[p,i]=j.useState(!1),k=j.useMemo(()=>[{shopifyVariant:"49775206334786",title:t("order.chef"),picUrl:ye,previewPicUrl:he,actualPrice:135,oldPrice:195},{shopifyVariant:"49775253651778",title:t("order.universal"),picUrl:Pe,previewPicUrl:ge,actualPrice:125,oldPrice:170},{shopifyVariant:"49775249391938",title:t("order.santoku"),picUrl:je,previewPicUrl:fe,actualPrice:125,oldPrice:170},{shopifyVariant:"49775261253954",title:t("order.fillet"),picUrl:we,previewPicUrl:me,actualPrice:95,oldPrice:120},{shopifyVariant:"49775256895810",title:t("order.utility"),picUrl:ke,previewPicUrl:ve,actualPrice:80,oldPrice:100}],[t]),b=async()=>{i(!0);try{const g=(await(await fetch(`/collections/${Ae}/products.json`)).json()).products.map(c=>{const y=k.find(R=>c.variants.map(q=>q.id).includes(Number(R.shopifyVariant)));if(!y)return null;const $=c.variants.find(R=>R.id===Number(y.shopifyVariant));return $?{shopifyVariant:$.id.toString(),title:c.title,picUrl:y.picUrl,previewPicUrl:y.previewPicUrl,actualPrice:y.actualPrice,oldPrice:Number($.price)}:null});S(g.filter(c=>typeof c=="object")),await v()}catch(s){console.error("Can`t load shopify products",s)}finally{i(!1)}},v=async()=>{i(!0);try{const d=await(await fetch("/cart.js")).json();f(d.total_price);const g=d.items.map(c=>({variantId:c.variant_id.toString(),cartKey:c.key}));if(g.filter(c=>c.variantId!==w).length>=3&&!!!g.find(y=>y.variantId===w)){await I(w);return}if(g.filter(c=>c.variantId!==w).length<3){const c=g.find(y=>y.variantId===w);if(c){await A(c.cartKey);return}}a(g)}catch(s){console.error("Can`t load actual shopify cart",s)}finally{i(!1)}},I=async s=>{i(!0);try{await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,quantity:1})}),await v()}catch(d){console.error("Can`t add to cart",d)}finally{i(!1)}},A=async s=>{i(!0);try{await fetch("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s,quantity:0})}),await v()}catch(d){console.error("Can`t remove from cart",d)}finally{i(!1)}},D=()=>{window.location.href="/checkout"},T=!!n.length,H=s=>{const d=[...n];d.push({variantId:s}),a(d),I(s)},_=s=>{var g;const d=(g=n.find(c=>c.variantId===s))==null?void 0:g.cartKey,E=[...n].filter(c=>c.variantId!==s);a(E),d&&A(d)};return j.useEffect(()=>{b()},[]),e.jsx(B,{ref:m,sx:{...o,position:"relative",backgroundColor:"#0B0B0B",backgroundImage:r?`url(${se})`:"unset"},children:e.jsx(l,{sx:{position:"relative",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"0 auto",color:"#EAEAEA",width:{xs:"100%",sm:"854px",md:"1440px",lg:"1440px"},padding:{xs:"0 16px 40px 16px",sm:"60px 0",md:"100px 0",lg:"100px 0"}},children:e.jsxs(l,{sx:{width:"100%",flexDirection:"row",alignItems:"center"},children:[e.jsx(B,{sx:{width:{xs:"0",sm:"438.87px",md:"720px",lg:"720px"},display:{xs:"none",sm:"block"},height:{xs:"0",sm:"1098.72px",md:"1457px",lg:"1457px"}},children:e.jsx(z,{src:ue,sx:{height:"100%"}})}),e.jsxs(l,{sx:{width:{xs:"100%",sm:"438.87px",md:"720px",lg:"720px"},gap:{xs:"20px",sm:"40px",md:"40px",lg:"40px"},padding:{xs:"0",sm:"0 10px",md:"0 50px",lg:"0 50px"}},children:[e.jsx(x,{variant:"h3",color:"#EAEAEA",sx:{fontWeight:700},children:t("order.title")}),e.jsx(l,{sx:{gap:"20px"},children:P.map((s,d)=>e.jsx(Ie,{productId:s.shopifyVariant,title:s.title,picUrl:s.picUrl,previewPicUrl:s.previewPicUrl,actualPrice:s.actualPrice,oldPrice:s.oldPrice,isAdded:n.map(E=>E.variantId).includes(s.shopifyVariant),onAddProduct:H,onRemoveProduct:_,isDisabled:p},d))}),e.jsxs(l,{sx:{width:"100%",gap:"20px",padding:{xs:"0 28px",sm:"0"}},children:[e.jsx(M,{title:t("order.freeShipping"),subtitle:t("order.2+knives"),isActive:n.filter(s=>s.variantId!==w).length>=2}),e.jsx(M,{title:t("order.bookGift"),subtitle:t("order.3+knives"),isActive:n.filter(s=>s.variantId!==w).length>=3}),e.jsx(M,{title:t("order.discountUpTo"),subtitle:n.filter(s=>s.variantId!==w).length<3?t("order.discountWhen3+knives"):t("order.discountWhen5+knives"),isActive:n.filter(s=>s.variantId!==w).length===5})]}),e.jsxs(l,{sx:{alignItems:"center",gap:{xs:"17.58px",sm:"17.58px",md:"40px",lg:"40px"}},children:[e.jsx(x,{variant:"h3",color:"#EAEAEA",sx:{fontWeight:700},children:t("order.discountExpiresIn")}),e.jsx(Ce,{targetDate:h})]}),e.jsx(re,{size:"medium",variant:"contained",color:"inherit",onClick:D,sx:{pointerEvents:T?"auto":"none",cursor:T?"pointer":"default",opacity:T?1:.7,backgroundColor:"#15975F",":hover":T?{backgroundColor:"#2CAC75"}:{backgroundColor:"#15975F"}},children:p?e.jsx(pe,{size:24,sx:{color:"#EAEAEA"}}):t("order.orderNowFor",{price:(u/100).toFixed(2)})})]})]})})})},M=({title:t,subtitle:r,isActive:o})=>e.jsxs(l,{sx:{flexDirection:"row",alignItems:"center",gap:"10px"},children:[e.jsx(B,{sx:{borderRadius:"50%",backgroundColor:o?"#15975F":"#D9D9D9",aspectRatio:1,width:{xs:"15px",sm:"15px",md:"30px",lg:"30px"}}}),e.jsx(x,{variant:"body1",sx:{color:"#EAEAEA",fontWeight:700,fontSize:{xs:"12px",sm:"14px",md:"18px",lg:"18px"}},children:t}),e.jsx(x,{variant:"body1",sx:{color:"#B1B1B1",fontWeight:700,fontSize:{xs:"12px",sm:"14px",md:"18px",lg:"18px"}},children:r})]});export{De as Order,De as default};
